---
priority: 0.6
title: Milestone 2
excerpt: Figure Eight
categories: milestones
background-image: lab1-cover.png

---
### Objective
The goal of this milestone is to successfully detect walls and other robots and implement this into our full system.

### Wall Detection
We added a distance sensor to our robot to detect the walls. The distance sensor connects to ground and 5V and outputs an analog signal. 
NOTE: INSERT CIRCUIT HERE
To determine the threshold, we looked at the analog signal when the sensor was near the wall and when it was farther away from the wall. When a wall was detected, we turned on an LED and had the robot turn left to use right hand wall following. The code is as follows:
NOTE: INSERT CODE HERE

### Robot Detection
For the robot detection, we used the IR amplifier circuit from lab 2. 

<p align="center">
  <img src="/images/lab2_irfritz.png" width="450px" height="450px"/><br/>
      <i>Amplifier schematic.</i>
</p>

We decided to stop the robot when another robot is detected. To do this, we added on to the code from lab 2 and set both servos to 90.
NOTE: INSERT CODE HERE
In the future, we may want to implement another strategy, potentially a more offensive strategy, for when another robot is detected.

### Full System
To implement the full system, we needed to fix the timing because the servos and the FFT use the same timer. To do this, we wrote the following program
NOTE: INSERT TIMING CODE
We then added this function to our line tracking code, as well as the wall detection code and the robot detection code to implement the full system.
Here is a video of our robot doing line tracking, wall detection, and robot detection.
NOTE: INSERT ROBOT VIDEOS
