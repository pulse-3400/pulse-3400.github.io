---
priority: 0.6
title: Milestone 4
excerpt: Treasure Detection
categories: milestones
background-image: lab1-cover.png

---
### Objective
The goal of this milestone is to fully implement the image processor so it can detect whether or not there is a treasure, what color the treasure is, and what shape the treasure is.

### Implementation
To implement the image processor, we expanded our basic image processor from lab 4. At the end of lab 4, we were able to detect whether or not there is a treasure and what color the treasure was. Here is the video of treasure detection and color detection from lab 4. To determine the shape, we took pixels from the top, middle and bottom of the image and pixels from the left, center, and right of the image. We compared these pixels to eachother to determine the shape. To get these pixels, we divided the screen into a grid like so, and averaged the values from these sections. To find the size of the sections, we divided the screen width and height by 3, as seen in this image.

<p align="center">
  <img src="pulse-3400.github.io/images/Screen Shot 2018-11-29 at 2.33.53 PM.png" width="500px" height="394px"/><br/>
      <i>Figure 1: Sections of the Screen</i>
</p>

Once we had the values for each section, we used these sections to tell what shape it is. The black dots in this image represent the locations that we took to determine what the shape was.

<p align="center">
  <img src="pulse-3400.github.io/images/Screen Shot 2018-11-29 at 2.33.41 PM.png" width="500px" height="394px"/><br/>
      <i>Figure 2: Shapes and Colors</i>
</p>

One issue we encountered was that we could not write directly to the registers because the code would not compile. To fix this, we used temporary registers to store the value of the pixel and then we transferred these values to the actual registers. 

Here is a video of the image processor with a red triangle, red square, red diamond, blue triangle, blue square, and blue diamond. 
