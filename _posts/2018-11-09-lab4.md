---
priority: 0.6
title: Lab 4
excerpt: FPGA
categories: labs
background-image: fpgacover.png

---
### Objective

The goal of this lab is to implement an FPGA module that can detect shapes and colors from the camera input and pass the information to the Arduino.

### Procedure
To complete this lab, we split into two teams, Team Arduino and Team FPGA. The parts of the lab that are being implemented are the red blocks in the following diagram. 

<p align="center">
  <img src="/images/Lab3BlockDiagram.png" width="700px" height="394px"/><br/>
  <i>Block Diagram</i>
</p>

To begin, both groups set up the PLL. To do this, we set clock inclk0 to 50 MHz, clock c0 to 24 MHz, clock c1 to 25 MHz, and clock c2 to 50 MHz. These clocks all have a duty cycle of 50%. We then went through the DE0_NANO.v file and changed all of the CLOCK_50 to c2 because the other clocks are phase-locked to this clock. After the PLL was set up, we split into the two teams and proceeded as follows. 

#### Team Arduino 
##### Alex and Sid
Our objectives were to wire the camera, communicate with the Arduino, and read treasure data from the FPGA. First, we looked at the OV7670 Data Sheet to wire the data pins on the camera to the FPGA. Then, we created the following circuit to connect the camera to the Arduino. 

<p align="center">
  <img src="/images/Lab3CameraWiringDiagram.png" width="700px" height="394px"/><br/>
  <i>Camera Wiring Diagram</i>
</p>

```
insert code here
```
